{
  "name": "sms-hello",
  "description": "SMS Hello Lambda",
  "properties": {
    "apiendpoints": [],
    "provider": {
    },
    "public": true,
    "code": "ZnVuY3Rpb24gcnVuKGUsIGMpIHsKCiAgICB2YXIgY29udGV4dCA9IEpTT04ucGFyc2UoYyk7CgoKICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PSAnR0VUJykKICAgICAgICByZXR1cm4gZ2V0SHRtbCgpOwoKICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PSAnUE9TVCcpIHsKICAgICAgICB2YXIgZXZlbnQgPSBKU09OLnBhcnNlKGUpOwogICAgICAgIHJldHVybiBzZW5kU21zKGNvbnRleHQsIGV2ZW50KTsKICAgIH0KCiAgICByZXR1cm4gIk1ldGhvZCBub3QgZm91bmQiOwp9CgoKZnVuY3Rpb24gc2VuZFNtcyhjb250ZXh0LCBldmVudCkgewoKICAgIHZhciBwaG9uZSA9IGV2ZW50LnBob25lID8gZXZlbnQucGhvbmUgOiBqYXZhLmxhbmcuU3lzdGVtLmdldGVudigicGhvbmUiKTsKCiAgICBpZiAoIXBob25lKQogICAgICAgIHJldHVybiAiRXJyb3I6IHBob25lIGlzIG5vdCBkZWZpbmVkIjsKCiAgICB2YXIgbXNnID0gZXZlbnQubXNnOwogICAgaWYgKCFtc2cpCiAgICAgICAgcmV0dXJuICJFcnJvcjogbWVzc2FnZSBpcyBlbXB0eSI7CgogICAgdmFyIGV2ZW50RGF0YSA9CiAgICAgICAgewogICAgICAgICAgICB0bzogcGhvbmUsCiAgICAgICAgICAgIGZyb206ICJSRVBMQUNFIiwKICAgICAgICAgICAgdXNlcjogIlJFUExBQ0UiLAogICAgICAgICAgICBwd2Q6ICJSRVBMQUNFIiwKICAgICAgICAgICAgYm9keTogbXNnCiAgICAgICAgfTsKCiAgICAvL2FkZCBhdXRoCQogICAgdmFyIHVzZXJwYXNzID0gZXZlbnREYXRhLnVzZXIgKyAiOiIgKyBldmVudERhdGEucHdkOwogICAgdmFyIGJhc2ljQXV0aCA9ICJCYXNpYyAiICsgamF2YS51dGlsLkJhc2U2NC5nZXRFbmNvZGVyKCkuZW5jb2RlVG9TdHJpbmcodXNlcnBhc3MuZ2V0Qnl0ZXMoKSk7CgogICAgdmFyIHUgPSAiaHR0cHM6Ly9hcGkudHdpbGlvLmNvbS8yMDEwLTA0LTAxL0FjY291bnRzLyIgKyBldmVudERhdGEudXNlciArICIvTWVzc2FnZXMvP1RvPSUyQiIgKyBldmVudERhdGEudG8gKyAiJkZyb209JTJCIiArIGV2ZW50RGF0YS5mcm9tOwoKICAgIHZhciBBc3luY0h0dHBDbGllbnQgPSBKYXZhLnR5cGUoJ29yZy5hc3luY2h0dHBjbGllbnQuRGVmYXVsdEFzeW5jSHR0cENsaWVudCcpOwogICAgdmFyIENvbXBsZXRhYmxlRnV0dXJlID0gSmF2YS50eXBlKCdqYXZhLnV0aWwuY29uY3VycmVudC5Db21wbGV0YWJsZUZ1dHVyZScpOwogICAgdmFyIGNsaWVudCA9IG5ldyBBc3luY0h0dHBDbGllbnQoKTsKICAgIHZhciBwYyA9IGNsaWVudC5wcmVwYXJlUG9zdCh1KQogICAgICAgIC5hZGRIZWFkZXIoIkF1dGhvcml6YXRpb24iLCBiYXNpY0F1dGgpCiAgICAgICAgLmFkZEZvcm1QYXJhbSgiVG8iLCBldmVudERhdGEudG8pCiAgICAgICAgLmFkZEZvcm1QYXJhbSgiRnJvbSIsIGV2ZW50RGF0YS5mcm9tKQogICAgICAgIC5hZGRGb3JtUGFyYW0oIkJvZHkiLCBldmVudERhdGEuYm9keSk7CgogICAgdmFyIHJlc3BvbnNlID0gcGMuZXhlY3V0ZSgpLmdldCgpOwogICAgdmFyIGNvZGUgPSByZXNwb25zZS5nZXRTdGF0dXNDb2RlKCk7CiAgICBpZiAoY29kZSA9PSAyMDAgfHwgY29kZSA9PSAyMDEgfHwgY29kZSA9PSAyMDIpCiAgICAgICAgcmV0dXJuICJTZW50IjsKICAgIGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICByZXR1cm4gIkVycm9yOiAiICsgY29kZTsKICAgIH0KCn0KCmZ1bmN0aW9uIGdldEh0bWwoKSB7CgogICAgdmFyIE11bHRpU3RyaW5nID0gZnVuY3Rpb24gKGYpIHsKICAgICAgICByZXR1cm4gZi50b1N0cmluZygpLnNwbGl0KCdcbicpLnNsaWNlKDEsIC0xKS5qb2luKCdcbicpOwogICAgfTsKCiAgICB2YXIgdXggPSBNdWx0aVN0cmluZyhmdW5jdGlvbiAoKSB7LyoqPGh0bWw+CjxoZWFkPgogICAgPHRpdGxlPlNlbmQgbWVzc2FnZTwvdGl0bGU+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jb2RlLmpxdWVyeS5jb20vanF1ZXJ5LTMuMy4xLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vYm9vdHN0cmFwLzMuMy43L2Nzcy9ib290c3RyYXAubWluLmNzcyIgLz4KPC9oZWFkPgo8Ym9keSBjbGFzcz0iYmctbGlnaHQiPgogICAgPGRpdiBjbGFzcz0iY29udGFpbmVyIj4KICAgICAgICA8ZGl2IGNsYXNzPSJyb3ciIHN0eWxlPSJtYXJnaW46MTAwcHg7Ij4KICAgICAgICAgICAgPGgyPlNlbmQgbWVzc2FnZTwvaDI+CiAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD0ibWVzc2FnZSIgcGxhY2Vob2xkZXI9Ik1lc3NhZ2UiIGF1dG9mb2N1cz0iYXV0b2ZvY3VzIiBvbmJsdXI9Im1lc3NhZ2VCbHVyKCkiIG9uZm9jdXM9Im1lc3NhZ2VGb2N1c2VkKCkiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIHN0eWxlPSJtYXJnaW4tYm90dG9tOjE2cHg7IG1pbi13aWR0aDoxNTBweDsiPjwvdGV4dGFyZWE+CiAgICAgICAgICAgIDxidXR0b24gb25jbGljaz0ic2VuZENsaWNrKCkiIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIHN0eWxlPSJ3aWR0aDoxNTBweDsiPlNlbmQ8L2J1dHRvbj4KCiAgICAgICAgICAgIDxkaXYgaWQ9InN0YXR1cyIgc3R5bGU9Im1hcmdpbi1sZWZ0OjMycHg7Ij48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKICAgIDxzY3JpcHQ+CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gbWVzc2FnZUZvY3VzZWQoKSB7CiAgICAgICAgICAgICQoJyNzdGF0dXMnKS50ZXh0KCcnKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHNlbmRDbGljaygpIHsKICAgICAgICAgICAgdmFyIG1zZyA9ICQoJyNtZXNzYWdlJykudmFsKCk7CgogICAgICAgICAgICBpZiAoIW1zZykgewogICAgICAgICAgICAgICAgJCgnI3N0YXR1cycpLnRleHQoJ1dyaXRlIHNvbWUgdGV4dCcpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICAkKCcjc3RhdHVzJykudGV4dCgnU2VuZGluZy4uLicpOwogICAgICAgICAgICB2YXIgdXJsID0gJyc7CiAgICAgICAgICAgICQucG9zdCh1cmwsIEpTT04uc3RyaW5naWZ5KHsgbXNnOiBtc2cgfSksIGZ1bmN0aW9uIChkYXRhLCBlcnJvcikgewogICAgICAgICAgICAgICAgJCgnI3N0YXR1cycpLnRleHQoZGF0YSk7CiAgICAgICAgICAgIH0pLmZhaWwoCiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHsgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICQoJyNzdGF0dXMnKS50ZXh0KCdFcnJvciBjb2RlOiAnICsgZXJyb3Iuc3RhdHVzKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICA8L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+CiAqKi99KTsKCiAgICByZXR1cm4gdXg7Cgp9Cg==",
    "cpus": 0.1,
    "code_type": "code",
    "headers": {
      "Accept": "text/html"
    },
    "periodic_info": {},
    "timeout": 30,
    "handler": "run",
    "runtime": "nashorn",
    "env": {
      "phone": "REPLACE ME"
    },
    "memory": 512
  }
}
