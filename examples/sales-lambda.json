{
  "name": "sales",
  "description": "https://github.com/GalacticFog/lambda-examples/tree/master/nodejs_lambda/sales_slack_notification",
  "properties": {
    "provider": {
    },
    "public": true,
    "code": "dmFyIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHt9OwpleHBvcnRzLnJ1biA9IGZ1bmN0aW9uKGV2ZW50LCBjb250ZXh0LCBjYWxsYmFjaykgewogIGNvbnN0IGh0dHBzID0gcmVxdWlyZSgnaHR0cHMnKTsKICBjb25zdCBldmVudERhdGEgPSBldmVudCAmJiBKU09OLnBhcnNlKGV2ZW50KTsKICBjb25zdCBtZXNzYWdlID0gKGV2ZW50RGF0YSAmJiBldmVudERhdGEucGF5bG9hZCkgfHwgJ2EgcGF5bG9hZCB3YXMgbm90IHByb3ZpZGVkIHRvIHRoZSBtZXNzYWdlJzsKCiAgY29uc3Qgc2xhY2tIb3N0ID0gcHJvY2Vzcy5lbnYuU0xBQ0tfQVBJX0JBU0VQQVRIOwogIGNvbnN0IHNsYWNrUGF0aCA9IHByb2Nlc3MuZW52LlNMQUNLX1BBVEg7CiAgY29uc3Qgc2xhY2tPcHRpb25zID0geyBob3N0OiBzbGFja0hvc3QsIHBhdGg6IHNsYWNrUGF0aCB9OwogIGNvbnN0IHNsYWNrUGF5bG9hZCA9IEpTT04uc3RyaW5naWZ5KHsgdGV4dDogbWVzc2FnZS5zbGFja01lc3NhZ2UgfSk7CiAgCiAgY29uc3Qgc2ZIb3N0ID0gcHJvY2Vzcy5lbnYuU0ZfQVBJX0JBU0VQQVRIOwogIGNvbnN0IHNmUGF0aCA9IHByb2Nlc3MuZW52LlNGX1BBVEg7CiAgY29uc3Qgc2ZPSUQgPSBwcm9jZXNzLmVudi5TRl9PSUQ7CiAgY29uc3Qgc2ZPcHRpb25zID0geyBob3N0OiBzZkhvc3QsIHBhdGg6IHNmUGF0aCB9OwogIGNvbnN0IG5hbWUgPSBtZXNzYWdlLm5hbWUuc3BsaXQoJyAnKTsKICBjb25zdCBzZlBheWxvYWQgPSBgb2lkPSR7c2ZPSUR9JmxlYWRfc291cmNlPVdlYnNpdGUmZmlyc3RfbmFtZT0ke25hbWVbMF19Jmxhc3RfbmFtZT0ke25hbWVbMV19JmNvbXBhbnk9JHttZXNzYWdlLmNvbXBhbnl9JmVtYWlsPSR7bWVzc2FnZS5lbWFpbH0mdGl0bGU9JHttZXNzYWdlLnRpdGxlfSZwaG9uZT0ke21lc3NhZ2UucGhvbmV9JmVtcGxveWVlcz0ke21lc3NhZ2Uuc2l6ZX0mMDBOMUkwMDAwMEtKMElkPSR7bWVzc2FnZS5tZXNzYWdlfWA7CiAgCiAgCiAgLy8gaHR0cHMgcmVxdWVzdCBQT1NUIG1ldGhvZAogIGNvbnN0IHJlcXVlc3QgPSAob3B0aW9ucywgcGF5bG9hZCwgY29udGVudFR5cGUgPSAnYXBwbGljYXRpb24vanNvbicpID0+IHsKICAgICBjb25zdCBwb3N0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oewogICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgaGVhZGVyczogewogICAgICAgICdDb250ZW50LVR5cGUnOiBjb250ZW50VHlwZSwgICAgCiAgICAgICAgJ0NvbnRlbnQtTGVuZ3RoJzogQnVmZmVyLmJ5dGVMZW5ndGgocGF5bG9hZCksCiAgICAgIH0sCiAgICAgIGpzb246IHRydWUsCiAgICAgfSwgb3B0aW9ucyk7CgogICAgY29uc3QgcmVxID0gaHR0cHMucmVxdWVzdChwb3N0T3B0aW9ucywgKHJlcykgPT4gewogICAgICByZXMub24oJ2RhdGEnLCAoY2h1bmspID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhgQk9EWTogJHtjaHVua31gKTsKICAgICAgfSk7CiAgICAgIHJlcy5vbignZW5kJywgKCkgPT4gewogICAgICAgIGNhbGxiYWNrKG51bGwsICdTVUNDRVNTJyk7CiAgICAgIH0pOwogICAgfSk7CiAgCiAgICByZXEub24oJ2Vycm9yJywgKGUpID0+IHsKICAgICAgY29uc29sZS5lcnJvcihgcHJvYmxlbSB3aXRoIHJlcXVlc3Q6ICR7ZS5tZXNzYWdlfWApOwogICAgICBjYWxsYmFjayhlLm1lc3NhZ2UsICdFUlJPUicpOwogICAgfSk7CiAgICAKICAgIC8vIHdyaXRlIGRhdGEgdG8gcmVxdWVzdCBib2R5CiAgICByZXEud3JpdGUocGF5bG9hZCk7CiAgICByZXEuZW5kKCk7ICAgICAgIAogIH07CiAgCiAgcmVxdWVzdChzbGFja09wdGlvbnMsIHNsYWNrUGF5bG9hZCk7CiAgcmVxdWVzdChzZk9wdGlvbnMsIHNmUGF5bG9hZCwgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpOwp9Ow==",
    "cpus": 0.1,
    "code_type": "code",
    "headers": {
      "Accept": "text/plain"
    },
    "periodic_info": {},
    "timeout": 30,
    "handler": "run",
    "runtime": "nodejs",
    "env": {
      "SF_API_BASEPATH": "webto.salesforce.com",
      "SF_OID": "REPLACE ME",
      "SF_PATH": "/servlet/servlet.WebToLead",
      "SLACK_API_BASEPATH": "hooks.slack.com",
      "SLACK_PATH": "/services/REPLACE ME"
    },
    "memory": 512
  }
}
