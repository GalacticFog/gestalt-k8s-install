{
  "name": "slack-sales",
  "description": "https://github.com/GalacticFog/lambda-examples/tree/master/nodejs_lambda/sales_slack_notification",
  "properties": {
    "provider": {
    },
    "public": true,
    "code": "dmFyIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHt9OwpleHBvcnRzLnJ1biA9IGZ1bmN0aW9uKGV2ZW50LCBjb250ZXh0LCBjYWxsYmFjaykgewogIGNvbnN0IGh0dHBzID0gcmVxdWlyZSgnaHR0cHMnKTsKICBjb25zdCBob3N0ID0gcHJvY2Vzcy5lbnYuU0xBQ0tfQVBJX0JBU0VQQVRIOwogIGNvbnN0IHBhdGggPSBwcm9jZXNzLmVudi5TTEFDS19QQVRIOwogIGNvbnN0IG9wdGlvbnMgPSB7IGhvc3QsIHBhdGggfTsKICBjb25zdCBldmVudERhdGEgPSBldmVudCAmJiBKU09OLnBhcnNlKGV2ZW50KTsKICBjb25zdCBtZXNzYWdlID0gKGV2ZW50RGF0YSAmJiBldmVudERhdGEucGF5bG9hZCkgfHwgJ2EgcGF5bG9hZCB3YXMgbm90IHByb3ZpZGVkIHRvIHRoZSBtZXNzYWdlJzsKICBjb25zdCBib2R5ID0gSlNPTi5zdHJpbmdpZnkoeyB0ZXh0OiBtZXNzYWdlLnNsYWNrTWVzc2FnZSB9KTsKCiAgLy8gaHR0cHMgcmVxdWVzdCBQT1NUIG1ldGhvZAogIGNvbnN0IHJlcXVlc3RQT1NUID0gKG9wdGlvbnMsIHBheWxvYWQpID0+IHsKICAgICBjb25zdCBwb3N0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oewogICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgaGVhZGVyczogewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsICAgICAgCiAgICAgICAgJ0NvbnRlbnQtTGVuZ3RoJzogQnVmZmVyLmJ5dGVMZW5ndGgocGF5bG9hZCksCiAgICAgIH0sCiAgICAgIGpzb246IHRydWUsCiAgICAgfSwgb3B0aW9ucyk7CiAgICAgCiAgICBjb25zdCByZXEgPSBodHRwcy5yZXF1ZXN0KHBvc3RPcHRpb25zLCAocmVzKSA9PiB7CiAgICAgIHJlcy5vbignZGF0YScsIChjaHVuaykgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGBCT0RZOiAke2NodW5rfWApOwogICAgICB9KTsKICAgICAgcmVzLm9uKCdlbmQnLCAoKSA9PiB7CiAgICAgICAgY2FsbGJhY2sobnVsbCwgJ1NVQ0NFU1MnKTsKICAgICAgfSk7CiAgICB9KTsKICAKICAgIHJlcS5vbignZXJyb3InLCAoZSkgPT4gewogICAgICBjb25zb2xlLmVycm9yKGBwcm9ibGVtIHdpdGggcmVxdWVzdDogJHtlLm1lc3NhZ2V9YCk7CiAgICAgIGNhbGxiYWNrKGUubWVzc2FnZSwgJ0VSUk9SJyk7CiAgICB9KTsKICAgIAogICAgLy8gd3JpdGUgZGF0YSB0byByZXF1ZXN0IGJvZHkKICAgIHJlcS53cml0ZShwYXlsb2FkKTsKICAgIHJlcS5lbmQoKTsgICAgICAgCiAgfTsKICAKICByZXF1ZXN0UE9TVChvcHRpb25zLCBib2R5KTsKfTs=",
    "cpus": 0.1,
    "code_type": "code",
    "headers": {
      "Accept": "text/plain"
    },
    "periodic_info": {},
    "timeout": 30,
    "handler": "run",
    "runtime": "nodejs",
    "env": {
      "SLACK_API_BASEPATH": "hooks.slack.com",
      "SLACK_PATH": "/services/REPLACEME"
    },
    "memory": 512
  }
}
