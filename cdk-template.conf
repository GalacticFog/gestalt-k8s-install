# Gestalt Install Configuration for Canonical Kubernetes
# Assumes use of Ceph storage providing RBD volumes for persistent storage.

# ------------- Admin user settings -----------------------------------------------
# -- If not set, user is defaulted and password is randomized
GESTALT_ADMIN_USERNAME=
GESTALT_ADMIN_PASSWORD=

# ------------- API Gateway settings ----------------------------------------------
EXTERNAL_GATEWAY_HOST="gtw1.gestalt.example.com"
EXTERNAL_GATEWAY_PROTOCOL="https"

# -- UI Access
GESTALT_UI_INGRESS_HOST="gestalt.example.com"

# ------------- Database Configuration --------------------------------------------
# -- To provision an internal database, set PROVISION_INTERNAL_DATABASE=Yes, then
# -- the other database settings - host, port, credentials - are ignored.
PROVISION_INTERNAL_DATABASE=Yes
INTERNAL_DATABASE_PV_STORAGE_CLASS="rbd"   # 'rbd' for Ceph
INTERNAL_DATABASE_PV_STORAGE_SIZE="100Mi"

# -- External DB settings - Uncomment if using external database
# PROVISION_INTERNAL_DATABASE=No
# DATABASE_HOSTNAME=gestalt-postgresql.internal.example.com
# DATABASE_PORT=5432
# DATABASE_NAME=postgres
# DATABASE_USER=postgres
# DATABASE_PASSWORD=abcdefghijkl

# -- Run a post-install script
POST_DEPLOY_SCRIPT=cdk-post-deploy.sh
